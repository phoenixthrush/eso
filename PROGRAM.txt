; Random Number Guessing Game 1-100
MOV EAX 11
SYSCALL             ; Random number in EBX
MOV EDI EBX         ; Copy to EDI
MOD EDI 100         ; EDI = random % 100
ADD EDI 1           ; EDI = 1-100

MOV ESI 3           ; Set lives to 3

LABEL GUESS_LOOP
MOV ECX "Guess the number (1-100): "
MOV EAX 10
SYSCALL             ; Prompt

MOV EAX 3
SYSCALL             ; Read guess into EBX

CMP EBX EDI
JZ WIN
JA HIGH
JB LOW

LABEL WIN
MOV ECX "You win!"
MOV EAX 10
SYSCALL
MOV EAX 9
SYSCALL
JMP END

LABEL HIGH
MOV ECX "Too high!"
MOV EAX 10
SYSCALL
MOV EAX 9
SYSCALL
DEC ESI
JZ LOSE            ; Jump directly if lives == 0
JMP GUESS_LOOP

LABEL LOW
MOV ECX "Too low!"
MOV EAX 10
SYSCALL
MOV EAX 9
SYSCALL
DEC ESI
JZ LOSE
JMP GUESS_LOOP

LABEL LOSE
MOV ECX "Game over! You ran out of lives."
MOV EAX 10
SYSCALL
MOV EAX 9
SYSCALL

LABEL END
MOV EAX 2
SYSCALL